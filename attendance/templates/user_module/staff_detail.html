{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}

<section class="container">
	<h2 class="text-center my-3">Staff Details</h2>

	<table class="table table-responsive my-3 text-center">
		<tr class="thead-dark">
			<th>Username</th>
			<th>:</th>
			<th> {{ staff.user.username }} </th>
		</tr>

		<tr class="thead-dark">
			<th>Name</th>
			<th>:</th>
			<th> {{ staff.user.get_full_name }} </th>
		</tr>

		<tr class="thead-dark">
			<th>Email Id</th>
			<th>:</th>
			<th> {{ staff.user.email }} </th>
		</tr>

		<tr class="thead-dark">
			<th>Tutor</th>
			<th>:</th>
			<th> {{ staff.user.username }} </th>
		</tr>

		<tr class="thead-dark">
			<th>Last Login</th>
			<th>:</th>
			<th> {{ staff.user.last_login }} </th>
		</tr>
	</table>

	<button class="btn btn-success" data-toggle="modal" data-target="#edit_staff_detail">Edit</button>
	<button class="btn btn-danger mx-2">Delete</button>

</section>

<!-- STAFF UPDATE MODAL FORM -->
<div class="modal fade" id="edit_staff_detail">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title color-slateblue">Edit Staff Details</h4>
				<button type="button" class="close" data-dismiss="modal">&times;</button>
			</div>
			<div class="modal-body">
				<form class="edit_form" id="staff_update_form" method="POST" novalidate>
					{% csrf_token %}
					{{ form| crispy }}
				<form class="edit_form" method="POST">
			</div>
			<div class="modal-footer">
				<input type="submit" value="Update" name="submit" class="btn btn-success" form="staff_update_form">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function(){
		{% if form.errors %}
			$('#staff_signup').modal()
		{% endif %}
	});
</script>

{% endblock %}